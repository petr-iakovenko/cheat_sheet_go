# –ß–∞—Å—Ç—ã –≤–æ–ø—Ä–æ—Å –Ω–∞ —Å–æ–±–µ—Å–∞—Ö

## ‚ô®Ô∏è –¢–µ–æ—Ä–∏—è

### üëâ –ß—Ç–æ —Ç–∞–∫–æ–µ "—Å—Å—ã–ª–æ—á—ã–π —Ç–∏–ø"

–•—Ä–∞–Ω—è—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –¥–∞–Ω–Ω—ã–µ, –∞ –Ω–µ —Å–∞–º–∏ –¥–∞–Ω–Ω—ã–µ. –ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Å—Å—ã–ª–æ—á–Ω–æ–≥–æ —Ç–∏–ø–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é –∏–ª–∏ –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∞, –∞ –Ω–µ —Å–∞–º–∏ –¥–∞–Ω–Ω—ã–µ. –ò–∑–º–µ–Ω–µ–Ω–∏—è, —Å–¥–µ–ª–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –æ–¥–Ω—É —Å—Å—ã–ª–∫—É, –±—É–¥—É—Ç –≤–∏–¥–Ω—ã —á–µ—Ä–µ–∑ –¥—Ä—É–≥—É—é.

## Map

### üëâ –ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞–ø–∞?

–ò–º–µ–µ—Ç —Å—Å—ã–ª–æ—á–Ω—ã–π —Ç–∏–ø. –•—Ä–∞–Ω–∏—Ç –≤ —Å–µ–±–µ –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ. –í—Å–µ –∫–ª—é—á–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã.

---

### üëâ –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ –º–∞–ø–∞ –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?

–°–æ—Å—Ç–æ–∏—Ç –∏–∑ –±–∞–∫–µ—Ç–æ–≤ (–∫–æ—Ä–∑–∏–Ω). –ë–∞–∫–µ—Ç - —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞–ø—ã, –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã(key: value). –ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –º–∞–ø—É Go —Ä–µ—à–∞–µ—Ç, –≤ –∫–∞–∫–æ–π –±–∞–∫–µ—Ç –ø–æ–ª–æ–∂–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. –ï—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–±–∞–≤–ª—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∫–µ—Ç—ã –¥–æ—Å—Ç–∏–≥–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è loadfactor, —Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç "—ç–≤–∞–∫—É–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö". –¢–æ –µ—Å—Ç—å Go —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ –±–∞–∫–µ—Ç—ã –º–∞–ø—ã –≤ –Ω–æ–≤–æ–π —è—á–µ–π–∫–µ –ø–∞–º—è—Ç–∏ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –±–∞–∫–µ—Ç–∞–º.

---

### üëâ –ö–∞–∫–∏–µ –∫–ª—é—á–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —É –º–∞–ø—ã?

–ö–ª—é—á–∏ –∫–∞—Ä—Ç—ã (key) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ä–∞–≤–Ω–∏–º—ã–º–∏(comparable), —Ç–æ –µ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ `==` –∏ `!=`.

**–î–æ–ø—É—Å—Ç–∏–º—ã–µ —Ç–∏–ø—ã –∫–ª—é—á–µ–π:** `int`, `string`, `float64`.  

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã:** `struct`, –µ—Å–ª–∏ –≤—Å–µ –µ–≥–æ –ø–æ–ª—è —Å—Ä–∞–≤–Ω–∏–º—ã.  

**–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Ç–∏–ø—ã –∫–ª—é—á–µ–π:**
`map`, `slice`, `function` (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –Ω–µ —Å—Ä–∞–≤–Ω–∏–º—ã).

---

### Map –∏ concurrency

### üëâ –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ –º–∞–ø—É?

–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –≤ map –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ race condition –∏ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø–∞–Ω–∏–∫—É (panic) —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "concurrent map writes". –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ map –≤ Go –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö.

---

### üëâ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —ç–≤–∞–∫—É–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö?

***"–≠–≤–∞–∫—É–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö"*** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ –≤—Ä–µ–º—è —Ä–æ—Å—Ç–∞ –º–∞–ø—ã (–∫–æ–≥–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ç–µ–∫—É—â—É—é —ë–º–∫–æ—Å—Ç—å).

**"–≠–≤–∞–∫—É–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö" –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**  
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∞–ø—ã:  

- –°–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤–∞—è –º–∞–ø–∞ —Å –±–æ–ª—å—à–µ–π —ë–º–∫–æ—Å—Ç—å—é (–æ–±—ã—á–Ω–æ –≤ 2 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ).  

–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ (—ç–≤–∞–∫—É–∞—Ü–∏—è) –¥–∞–Ω–Ω—ã—Ö:  

- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ —Å—Ç–∞–æ–π –º–∞–ø—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ –Ω–æ–≤—É—é.  
- –≠–ª–µ–º–µ–Ω—Ç—ã –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ –Ω–æ–≤—ã–º "–∫–æ—Ä–∑–∏–Ω–∞–º" (buckets) –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö —Ö—ç—à–µ–π.  

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏:  

- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –º–∞–ø—É –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, —É–∫–∞–∑—ã–≤–∞—è –Ω–∞ –Ω–æ–≤—É—é –º–∞–ø—É.  
–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π –º–∞–ø—ã:  
- –°—Ç–∞—Ä–∞—è –º–∞–ø–∞ —É–¥–∞–ª—è–µ—Ç—Å—è —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞ (GC), –µ—Å–ª–∏ –Ω–∞ –Ω–µ—ë –±–æ–ª—å—à–µ –Ω–µ—Ç —Å—Å—ã–ª–æ–∫.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- –≠–≤–∞–∫—É–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, —á—Ç–æ–±—ã –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏.  
- –í–æ –≤—Ä–µ–º—è —ç–≤–∞–∫—É–∞—Ü–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Å–æ —Å—Ç–∞—Ä–æ–π, —Ç–∞–∫ –∏ —Å –Ω–æ–≤–æ–π –º–∞–ø–æ–π.

---

### üëâ *–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ª–∏ –º–∞–ø–∞?*

–ú–∞–ø–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–π. –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–æ—Ä—É—Ç–∏–Ω –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —á–∏—Ç–∞—é—Ç –∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ –º–∞–ø—É –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –≥–æ–Ω–∫–∏ (race condition) –∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é, –≤–∫–ª—é—á–∞—è –ø–∞–Ω–∏–∫—É.

### üëâ ***Map vs Sync.Map***

#### 1. **–û–±—ã—á–Ω–∞—è –º–∞–ø–∞ (`map`)**

- **–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞. –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º—å—é—Ç–µ–∫—Å–æ–≤ (`sync.Mutex` –∏–ª–∏ `sync.RWMutex`) –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:
  - –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
  - –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å –º—å—é—Ç–µ–∫—Å–∞–º–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö.
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏–ª–∏ –∫–æ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é.
  - –ì–∏–±–∫–æ—Å—Ç—å: –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å –ª—é–±—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∫–ª—é—á–µ–π –∏ –∑–Ω–∞—á–µ–Ω–∏–π.

#### 2. **`sync.Map`**

- **–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞ –∏–∑ –∫–æ—Ä–æ–±–∫–∏.
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:
  - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Å **—á–∞—Å—Ç—ã–º —á—Ç–µ–Ω–∏–µ–º** –∏ **—Ä–µ–¥–∫–æ–π –∑–∞–ø–∏—Å—å—é**.
  - –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º –æ–±—ã—á–Ω–∞—è –º–∞–ø–∞ —Å –º—å—é—Ç–µ–∫—Å–æ–º, –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –∑–∞–ø–∏—Å—è—Ö.
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º.
  - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π API: –º–µ—Ç–æ–¥—ã `Store`, `Load`, `Delete`, `Range`.
  - –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ —Ç–∏–ø—ã –∫–ª—é—á–µ–π –∏ –∑–Ω–∞—á–µ–Ω–∏–π (–∫–ª—é—á–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `interface{}`).

#### **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**

- **–û–±—ã—á–Ω–∞—è –º–∞–ø–∞**:
  - –û–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
  - –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —Ä—É—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –º—å—é—Ç–µ–∫—Å–∞–º–∏).
  - –ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –≥–∏–±–∫–æ—Å—Ç—å.

- **`sync.Map`**:
  - –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —á–∞—Å—Ç—ã–º —á—Ç–µ–Ω–∏–µ–º –∏ —Ä–µ–¥–∫–æ–π –∑–∞–ø–∏—Å—å—é.
  - –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π —Å —Ä—É—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π.

---

### üëâ –ö–∞–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å –º–∞–ø–æ–π?

***–í —Å—Ä–µ–¥–Ω–µ–º:*** –í—Å—Ç–∞–≤–∫–∞, –ø–æ–∏—Å–∫, —É–¥–∞–ª–µ–Ω–∏–µ: O(1).  
***–í —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ (–∏–∑-–∑–∞ –∫–æ–ª–ª–∏–∑–∏–π):*** –í—Å—Ç–∞–≤–∫–∞, –ø–æ–∏—Å–∫, —É–¥–∞–ª–µ–Ω–∏–µ: O(n).  
***–ò—Ç–µ—Ä–∞—Ü–∏—è:*** O(n).

---

### üëâ –ú–æ–∂–Ω–æ –ª–∏ –≤–∑—è—Ç—å –∞–¥—Ä–µ—Å —ç–ª–µ–º–µ–Ω—Ç–∞ –º–∞–ø—ã –∏ –ø–æ—á–µ–º—É?

–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–∑—è—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç `map(el := &map[key])`, —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –º–µ—Ö–∞–Ω–∏–∫–æ–π "—ç–≤–∞–∫—É–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö" –∏–∑ –±–∞–∫–µ—Ç–∞. –¢–∞–∫ –∫–∞–∫ –ø–æ—Å–ª–µ "—ç–≤–∞–∫—É–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö" –º–∞–ø—ã —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç–∞—Ä—ã–π –±–∞–∫–µ—Ç –±—É–¥–µ—Ç –Ω–µ –∞–∫—Ç—É–ª—å–Ω–∞ –∏ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –±—É–¥—É—Ç –≤ –¥—Ä—É–≥–æ–π —è—á–µ–π–∫–∏ –ø–∞–º—è—Ç–∏.

---

## Arrays & Slices

### üëâ –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–ª–∞–π—Å?

–°—Å—ã–ª–æ—á–Ω—ã–π —Ç–∏–ø. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å–≤–æ–π —Ä–∞–∑–º–µ—Ä –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã.

---

### üëâ –ß–µ–º –º–∞—Å—Å–∏–≤ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å–ª–∞–π—Å–∞? –ß–µ–º —Ö–æ—Ä–æ—à –º–∞—Å—Å–∏–≤ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å–æ —Å–ª–∞–π—Å–æ–º?

### **–ú–∞—Å—Å–∏–≤ vs –°–ª–∞–π—Å**

#### 1. **–†–∞–∑–º–µ—Ä**

- **–ú–∞—Å—Å–∏–≤**:
  - –ú–∞—Å—Å–∏–≤ —è–≤–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–∏–º—ã–π —Ç–∏–ø (value type), –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –º–∞—Å—Å–∏–≤–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é –∏–ª–∏ –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤–µ—Å—å –º–∞—Å—Å–∏–≤, –∞ –Ω–µ —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–µ–≥–æ.
  - –†–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –∏ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –µ–≥–æ —Ç–∏–ø–∞.`[3]int` –∏ `[5]int` ‚Äî —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã.
  - –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è.

- **–°–ª–∞–π—Å**:
  - –†–∞–∑–º–µ—Ä —Å–ª–∞–π—Å–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π.
  - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —Å –ø–æ–º–æ—â—å—é `append`.

#### 2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏**

- **–ú–∞—Å—Å–∏–≤**:
  - –ú–∞—Å—Å–∏–≤ –≤—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å –¥–ª—è –≤—Å–µ—Ö —Å–≤–æ–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ä–∞–∑—É.

- **–°–ª–∞–π—Å**:
  - –°–ª–∞–π—Å –≤—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏.

#### 3. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º–∞—Å—Å–∏–≤–∞ –ø–µ—Ä–µ–¥ —Å–ª–∞–π—Å–æ–º**

–ú–∞—Å—Å–∏–≤—ã –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é `==` –∏–ª–∏ `!=`, –µ—Å–ª–∏ –∏—Ö —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ä–∞–≤–Ω–∏–º—ã.

```go
a := [3]int{1, 2, 3}
b := [3]int{1, 2, 3}
fmt.Println(a == b) // true
```

---

### üëâ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç append?

`append()` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã `cap` (–µ–º–∫–æ—Å—Ç–∏), –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –±–∞–∑–æ–≤—ã–π –º–∞—Å—Å–∏–≤. –ï—Å–ª–∏ —Å—Ç—Ä—ã–π –º–∞—Å—Å–∏–≤ –Ω–∏ –≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ–≥–æ —Å–æ–±–µ—Ä–µ—Ç Garbage Collector(—Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞).

---

### üëâ –ö–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ª–∞–π—Å–∞–º–∏ —Ç—ã –±—ã –ø—Ä–∏–º–µ–Ω–∏–ª –≤ —Ä–∞–±–æ—Ç–µ?

- –ï—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–µ–Ω —Ä–∞–∑–º–µ—Ä –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Å–ª–∞–π—Å–∞ —Ç–æ–≥–¥–∞ –Ω–µ–æ–¥–±—Ö–æ–¥–∏–º–æ –∞–ª–ª–æ—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –Ω–µ–≥–æ –ø–∞–º—è—Ç—å.
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Å—Ç–æ–π —Å–ª–∞–π—Å –∏–ª–∏ –Ω–µ—Ç —Å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º –Ω–µ —Å `nil`, –∞ —Å `len` —Å–ª–∞–π—Å–∞
- –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã `append()` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å —Ç–æ–π –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.

---

### üëâ –ö–∞–∫–∞—è –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–∞–π—Å–∞ —Å –¥–ª–∏–Ω–æ–π –æ—Ç–ª–∏—á–Ω–æ–π –æ—Ç –Ω—É–ª—è?

–§—É–Ω–∫—Ü–∏—è `make()`

```go
// make([]T, length, capacity)
s1 := make([]int, 5)    // –¥–ª–∏–Ω–∞ 5, –µ–º–∫–æ—Å—Ç—å 5
s2 := make([]int, 5, 10) // –¥–ª–∏–Ω–∞ 5, –µ–º–∫–æ—Å—Ç—å 10
```

---

### üëâ –° –∫–∞–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏–¥–µ—Ç –ø–æ–∏—Å–∫ –≤ –º–∞—Å—Å–∏–≤–µ –∏ –ø–æ—á–µ–º—É?

–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –≤ –º–∞—Å—Å–∏–≤–µ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö:

1. –õ–∏–Ω–µ–π–Ω—ã–π –ø–æ–∏—Å–∫ (–Ω–µ–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤):

  ```go
  // O(n) - –ª–∏–Ω–µ–π–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
  func linearSearch(arr []int, target int) int {
      for i, v := range arr {
          if v == target {
              return i
          }
      }
      return -1
  }
  ```

  –≠—Ç–æ —Å–∞–º—ã–π –º–µ–¥–ª–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞.

2. –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ (–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤):

  ```go
  // O(log n) - –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
  func binarySearch(arr []int, target int) int {
      left, right := 0, len(arr)-1
      
      for left <= right {
          mid := (left + right) / 2
          if arr[mid] == target {
              return mid
          }
          if arr[mid] < target {
              left = mid + 1
          } else {
              right = mid - 1
          }
      }
      return -1
  }
  ```

  –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ, —Ç–∞–∫ –∫–∞–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª–æ–≤–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞.

3. –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É:

  ```go
  // O(1) - –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
  value := arr[5]
  ```

  –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø, —Ç–∞–∫ –∫–∞–∫ –º–∞—Å—Å–∏–≤ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–º —É—á–∞—Å—Ç–∫–µ –ø–∞–º—è—Ç–∏.

–ü—Ä–∏—á–∏–Ω—ã —Ä–∞–∑–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏:

- –õ–∏–Ω–µ–π–Ω—ã–π –ø–æ–∏—Å–∫ –º–µ–¥–ª–µ–Ω–Ω—ã–π –∏–∑-–∑–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
- –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –±—ã—Å—Ç—Ä–µ–µ –±–ª–∞–≥–æ–¥–∞—Ä—è –¥–µ–ª–µ–Ω–∏—é –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –ø–æ–∏—Å–∫–∞ –ø–æ–ø–æ–ª–∞–º –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
- –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–æ–º—É, —á—Ç–æ –º–∞—Å—Å–∏–≤ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–º —É—á–∞—Å—Ç–∫–µ –ø–∞–º—è—Ç–∏, –∏ Go –º–æ–∂–µ—Ç —Å—Ä–∞–∑—É –≤—ã—á–∏—Å–ª–∏—Ç—å –∞–¥—Ä–µ—Å –Ω—É–∂–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞

---

## Channels

### üëâ –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–∞–Ω–∞–ª—ã?

–≠—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏ –≤ —è–∑—ã–∫–µ Go. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–¥–Ω–æ–π –≥–æ—Ä—É—Ç–∏–Ω–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –∞ –¥—Ä—É–≥–æ–π ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∏—Ö, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

---

### üëâ –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –∫–∞–Ω–∞–ª –∏ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?

[–ö–æ–Ω—Å–ø–µ–∫—Ç](mt_cs_go.md)

---

### üëâ –ö–∞–∫–∏–µ –µ—Å—Ç—å —Ç–∏–ø—ã –∫–∞–Ω–∞–ª–æ–≤ –≤ Golang?

–ë—É—Ñ–∏—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏ –Ω–µ–±—É—Ñ–∏—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ

---

### üëâ –ß—Ç–æ –µ—Å–ª–∏ –ø–∏—Å–∞—Ç—å/—á–∏—Ç–∞—Ç—å –≤ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª?

–ï—Å–ª–∏ –≤—ã –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å –∑–∞–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª, —ç—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –ø–∞–Ω–∏–∫—É (panic).

–ï—Å–ª–∏ –≤—ã —á–∏—Ç–∞–µ—Ç–µ –∏–∑ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ –∫–∞–Ω–∞–ª–∞, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –∫–∞–Ω–∞–ª–∞:

***–ë—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª:***

- –ß—Ç–µ–Ω–∏–µ –±—É–¥–µ—Ç —É—Å–ø–µ—à–Ω—ã–º, –ø–æ–∫–∞ –≤ –∫–∞–Ω–∞–ª–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ.
–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±—É—Ñ–µ—Ä–∞ –±—É–¥—É—Ç –ø—Ä–æ—á–∏—Ç–∞–Ω—ã, –æ–ø–µ—Ä–∞—Ü–∏—è —á—Ç–µ–Ω–∏—è –Ω–∞—á–Ω—ë—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–∞–Ω–∞–ª–∞.  

***–ù–µ–±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª:***

- –ß—Ç–µ–Ω–∏–µ —Å—Ä–∞–∑—É –Ω–∞—á–Ω—ë—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–∞–Ω–∞–ª–∞.

---

## **–°—Ä–µ–¥–Ω–∏–µ –ø–æ —á–∞—Å—Ç–æ—Ç–µ –≤–æ–ø—Ä–æ—Å—ã**

### üëâ –ö–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –µ—Å—Ç—å —Å –∫–∞–Ω–∞–ª–∞–º–∏?

- **–°–æ–∑–¥–∞–Ω–∏–µ**: `make(chan T)`.
- **–ó–∞–ø–∏—Å—å**: `ch <- value`.
- **–ß—Ç–µ–Ω–∏–µ**: `value := <-ch`.
- **–ó–∞–∫—Ä—ã—Ç–∏–µ**: `close(ch)`.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏–µ**: `value, ok := <-ch`.
- **–ò—Ç–µ—Ä–∞—Ü–∏—è**: `for value := range ch`.
- **–°–µ–ª–µ–∫—Ç**: `select`.
- **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã**: `chan<- T` (—Ç–æ–ª—å–∫–æ –∑–∞–ø–∏—Å—å), `<-chan T` (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ).

**–°–µ–ª–µ–∫—Ç (`select`):**

–ü–æ–∑–≤–æ–ª—è–µ—Ç –∂–¥–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–∞—Ö.

```go
select {
case msg1 := <-ch1:
    fmt.Println("–ü–æ–ª—É—á–µ–Ω–æ –∏–∑ ch1:", msg1)
case msg2 := <-ch2:
    fmt.Println("–ü–æ–ª—É—á–µ–Ω–æ –∏–∑ ch2:", msg2)
default:
    fmt.Println("–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö")
}
```

**–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã:**

–ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–ø–∏—Å–∏ –∏–ª–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è).

```go
func send(ch chan<- int) {
    ch <- 42
}

func receive(ch <-chan int) {
    value := <-ch
    fmt.Println(value)
}
```

---

### üëâ –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –∫–∞–Ω–∞–ª –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º?

### üëâ –ö–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å –∫–∞–Ω–∞–ª—ã?

```go
ch := make(chan T, capacity)
```

`T` ‚Äî —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª.

`capacity` ‚Äî —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏).

---

### üëâ –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è select –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–∞–Ω–∞–ª–∞–º–∏?

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–∞–Ω–∞–ª–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–æ—Ä—É—Ç–∏–Ω–µ –æ–∂–∏–¥–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–∞—Ö –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –æ–ø–µ—Ä–∞—Ü–∏—é, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–∑ –∫–∞–Ω–∞–ª–æ–≤ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤.

#### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ `select`

1. **–û–∂–∏–¥–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–∞—Ö**:
   - `select` –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –æ–¥–Ω–∞ –∏–∑ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ –∫–∞–Ω–∞–ª–∞—Ö –Ω–µ —Å—Ç–∞–Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ–π.
   - –ï—Å–ª–∏ –≥–æ—Ç–æ–≤—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π, –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è **—Å–ª—É—á–∞–π–Ω–∞—è** (–ø—Å–µ–≤–¥–æ—Å–ª—É—á–∞–π–Ω–∞—è) –∏–∑ –Ω–∏—Ö.

2. **–ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**:
   - –° –ø–æ–º–æ—â—å—é `default` –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å `select` –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–º. –ï—Å–ª–∏ –Ω–∏ –æ–¥–∏–Ω –∏–∑ –∫–∞–Ω–∞–ª–æ–≤ –Ω–µ –≥–æ—Ç–æ–≤, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–µ—Ç–∫–∞ `default`.

3. **–¢–∞–π–º-–∞—É—Ç—ã**:
   - –ò—Å–ø–æ–ª—å–∑—É—è `time.After`, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º-–∞—É—Ç –∫ –æ–ø–µ—Ä–∞—Ü–∏—è–º —Å –∫–∞–Ω–∞–ª–∞–º–∏.

```go
select {
case operation1:
    // –î–µ–π—Å—Ç–≤–∏–µ, –µ—Å–ª–∏ operation1 –≥–æ—Ç–æ–≤–∞
case operation2:
    // –î–µ–π—Å—Ç–≤–∏–µ, –µ—Å–ª–∏ operation2 –≥–æ—Ç–æ–≤–∞
default:
    // –î–µ–π—Å—Ç–≤–∏–µ, –µ—Å–ª–∏ –Ω–∏ –æ–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –≥–æ—Ç–æ–≤–∞
}
```

---

## –í–∞—Ä–∏–∞—Ü–∏–∏ –Ω–∞ —Ç–µ–º—É —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏

### üëâ –ß—Ç–æ –µ—Å–ª–∏ –∑–∞–∫—Ä—ã—Ç—å –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª?

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–∫—Ä—ã—Ç—å —É–∂–µ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª –≤ Go –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø–∞–Ω–∏–∫–∞ (panic) —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "close of closed channel".

–í–æ—Ç –ø—Ä–∏–º–µ—Ä:

```go
func main() {
    ch := make(chan int)
    close(ch)     // –ü–µ—Ä–≤–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ - –Ω–æ—Ä–º–∞–ª—å–Ω–æ
    close(ch)     // –í—Ç–æ—Ä–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ - –≤—ã–∑–æ–≤–µ—Ç –ø–∞–Ω–∏–∫—É
}
```

–≠—Ç–æ –ø–∞–Ω–∏–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∞ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–∞–Ω–∞–ª–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ Go –Ω–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–∫—Ä—ã—Ç –ª–∏ –∫–∞–Ω–∞–ª, –Ω–µ –ø—ã—Ç–∞—è—Å—å –∏–∑ –Ω–µ–≥–æ —á–∏—Ç–∞—Ç—å.

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã, –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–¥—Ö–æ–¥—ã:

1. –ß–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫—Ç–æ –≤–ª–∞–¥–µ–µ—Ç –∫–∞–Ω–∞–ª–æ–º –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –µ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏–µ:

```go
func owner(ch chan int) {
    // –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∫–∞–Ω–∞–ª
    defer close(ch)
    // ... —Ä–∞–±–æ—Ç–∞ —Å –∫–∞–Ω–∞–ª–æ–º
}
```

2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sync.Once –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è:

```go
type SafeChannel struct {
    ch   chan int
    once sync.Once
}

func (sc *SafeChannel) Close() {
    sc.once.Do(func() {
        close(sc.ch)
    })
}
```

3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª –¥–ª—è —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –æ –∑–∞–∫—Ä—ã—Ç–∏–∏:

```go
done := make(chan struct{})
// –ò—Å–ø–æ–ª—å–∑—É–µ–º done –¥–ª—è —Å–∏–≥–Ω–∞–ª–∞ –æ –∑–∞–∫—Ä—ã—Ç–∏–∏
close(done) // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
```

---

### üëâ –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Å —á–∏—Ç–∞—Ç–µ–ª—è–º–∏/–ø–∏—Å–∞—Ç–µ–ª—è–º–∏ –µ—Å–ª–∏ –∑–∞–∫—Ä—ã—Ç—å –∫–∞–Ω–∞–ª?

**–ß—Ç–µ–Ω–∏–µ –∏–∑ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ –∫–∞–Ω–∞–ª–∞:**

–ï—Å–ª–∏ –∫–∞–Ω–∞–ª –∑–∞–∫—Ä—ã—Ç, –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è –∏–∑ –Ω–µ–≥–æ –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç —É—Å–ø–µ—à–Ω—ã–º–∏, –Ω–æ –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–∞–Ω–∞–ª–∞. –ù–∞–ø—Ä–∏–º–µ—Ä:

- –î–ª—è `chan int` –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω–æ `0`.
- –î–ª—è `chan string` –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ `""`.
- –î–ª—è `chan struct{}` –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω–æ `struct{}{}`.

**–ó–∞–ø–∏—Å—å –≤ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª:**

–ï—Å–ª–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª, —ç—Ç–æ –≤—ã–∑–æ–≤–µ—Ç **–ø–∞–Ω–∏–∫—É** (`panic`).

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `range` –¥–ª—è —á—Ç–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–∞**

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `range` –¥–ª—è —á—Ç–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–∞, —Ü–∏–∫–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –∫–∞–Ω–∞–ª –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç.

**–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —á–∏—Ç–∞—Ç–µ–ª–∏ –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –∫–∞–Ω–∞–ª–∞:**

–ï—Å–ª–∏ –∫–∞–Ω–∞–ª –∑–∞–∫—Ä—ã—Ç, –≤—Å–µ —á–∏—Ç–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç –Ω—É–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Å–º–æ–≥—É—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–≤–æ—é —Ä–∞–±–æ—Ç—É.

- –í—Å–µ —á–∏—Ç–∞—Ç–µ–ª–∏ –∑–∞–≤–µ—Ä—à–∞—é—Ç —Ä–∞–±–æ—Ç—É, –∫–æ–≥–¥–∞ –∫–∞–Ω–∞–ª –∑–∞–∫—Ä—ã—Ç.
- –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≥–æ—Ä—É—Ç–∏–Ω.

## ‚ô®Ô∏è –ö–æ–¥

### üëâ 1Ô∏è‚É£

```go
func main() {
    testSlice := make([]*int, 0)
 
    for _, v := range []int{1, 2, 3, 4} {
        testSlice = append(testSlice, &v)
    }

    for _, v := range testSlice {
        fmt.Println(*v)
    }
}
```

**–û—Ç–≤–µ—Ç:**
`4 4 4 4`, —Ç–∞–∫ –∫–∞–∫ –Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é Go –≤—ã–¥–µ–ª—è–µ—Ç 1 —è—á–µ–π–∫—É –ø–∞–º—è—Ç–∏, –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ—ë –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –≤ —Ü–∏–∫–ª–µ - —ç—Ç–æ –¥–æ –≤–µ—Ä—Å–∏–∏ 1.22. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –≤ —Å–ª–∞–π—Å–µ –±—É–¥–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å.

---

### üëâ 2Ô∏è‚É£

```go
func main() {
    x := []int{}
    x = append(x, 0)
    x = append(x, 1)
    x = append(x, 2)
        
    y := append(x, 3)

    
    z := append(x, 4
    
    fmt.Println(y, z)
}
```

**–û—Ç–≤–µ—Ç:**
`[0 1 2 4] [0 1 2 4]`

–¢—É—Ç –Ω–∞–¥–æ –ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏¬†`append`, –∫–æ—Ç–æ—Ä–∞—è –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Å—Ä–µ–∑—ã¬†`y`¬†–∏¬†`z`, —É–∫–∞–∑—ã–≤–∞—é—â–∏–µ –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –º–∞—Å—Å–∏–≤. –ü–æ—Å–∫–æ–ª—å–∫—É –ø–æ—Å–ª–µ–¥–Ω–∏–º –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º –±—ã–ª¬†`4`, –æ–±–∞ —Å—Ä–µ–∑–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç —ç—Ç–æ—Ç –∂–µ –º–∞—Å—Å–∏–≤, –≤–∫–ª—é—á–∞—è –ø–æ—Å–ª–µ–¥–Ω–µ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ

---

### üëâ 3Ô∏è‚É£

```go
func main() {
 a := []int{0, 0, 0}
 fmt.Println(a) 

 mod1(a)
 fmt.Println(a) 

 mod2(a)
 fmt.Println(a)
}

func mod1(s []int) {
 if len(s) > 0 {
  s[0] = 1
 }
}

func mod2(s []int) {
 s[len(s)-1] = 3 
 s = append(s, 4, 5) 
}
```

**–û—Ç–≤–µ—Ç:** –°—Ä–µ–∑—ã –≤ Go –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–æ —Å—Å—ã–ª–∫–µ, –ø–æ—ç—Ç–æ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö¬†`mod1`¬†–∏¬†`mod2`, –≤–ª–∏—è—é—Ç –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π —Å—Ä–µ–∑¬†`a`.

–§—É–Ω–∫—Ü–∏—è¬†`mod1`¬†–∏–∑–º–µ–Ω—è–µ—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å—Ä–µ–∑–∞ –Ω–∞¬†`1`, –ø–æ—ç—Ç–æ–º—É –ø–æ—Å–ª–µ –µ–µ –≤—ã–∑–æ–≤–∞ —Å—Ä–µ–∑ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è¬†`[1 0 0]`.

–§—É–Ω–∫—Ü–∏—è¬†`mod2`¬†–∏–∑–º–µ–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç —Å—Ä–µ–∑–∞ –Ω–∞¬†`3`, –Ω–æ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤¬†`4`¬†–∏¬†`5`¬†—Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —Å—Ä–µ–∑. –≠—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–º —Å—Ä–µ–∑–µ¬†`a`, –ø–æ—ç—Ç–æ–º—É –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞¬†`mod2`¬†—Å—Ä–µ–∑ –æ—Å—Ç–∞–µ—Ç—Å—è¬†`[1 0 3]`.

---

### üëâ 4Ô∏è‚É£

```go
func main() {
 m := map[string]int{
  "one":   1,
  "two":   2,
  "three": 3,
  "four":  4,
 }
 for k, v := range m {
  fmt.Println(k, v)
 }
 
 q := &m["one"]
 fmt.Println(*q) 
}
```

**–û—Ç–≤–µ—Ç:** `invalid operation: cannot take address of m["one"] (map index expression of type int)`

–£ –º–∞–ø—ã –µ—Å—Ç—å —ç–≤–∞–∫—É–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –±–∞–∫–µ—Ç–æ–≤ –ø–æ 6.5 –≤ –∫–∞–∂–¥–æ–º. –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ –±–∞–∫–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –≤ 2 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ –∏ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è. –ù–û
–ï—Å—Ç—å –≤–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –ø–∞–º—è—Ç—å –Ω–µ —Å—Ä–∞–∑—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
- –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è, –∫–æ–≥–¥–∞ —É–¥–∞–ª–µ–Ω–∏–µ/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É

–ü–æ—ç—Ç–æ–º—É –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–∑—è—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é, —Ç.–∫. –ø–æ—Å–ª–µ —ç–≤–∞–∫—É–∞—Ü–∏–∏ –∞–¥—Ä–µ—Å –ø–æ–º–µ–Ω—è–µ—Ç—Å—è

---

### üëâ 5Ô∏è‚É£

```go
func main() {
 digits := []int{1, 2, 3, 4, 5}
 for _, d := range digits {
  defer fmt.Println(d)
 }
}
```

**–û—Ç–≤–µ—Ç:**  
5  
4  
3  
2  
1  
Defer —Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–∞–∫ —Å—Ç—ç–∫ LIFO (last in first out)

---

### üëâ 6Ô∏è‚É£

```go
func add(s []string) {
 s = append(s, "x")
}

func main() {
 s := []string{"a", "b", "c"}
 add(s[1:2]) 
 fmt.Println(s)
}
```

**–û—Ç–≤–µ—Ç:** `[a b x]`

–ø—Ä–∏ —Å—Ä–µ–∑–µ `m[b:e]`

len(m) –±—É–¥–µ—Ç e - b
cap(m) –±—É–¥–µ—Ç cap(m) - b

`s[1:2]`¬†—Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Å—Ä–µ–∑, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —á–∞—Å—Ç—å –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞¬†`s`, –∏ –∏–º–µ–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å. –ü–æ—ç—Ç–æ–º—É, –∫–æ–≥–¥–∞ –≤—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ "x" —Å –ø–æ–º–æ—â—å—é¬†`append`¬†–≤ —Ñ—É–Ω–∫—Ü–∏–∏¬†`add`, —ç—Ç–æ –∏–∑–º–µ–Ω—è–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π —Å–ª–∞–π—Å

---

### üëâ 7Ô∏è‚É£

```go
func main() {
 var buf *bytes.Buffer
 f(buf)
 if buf != nil {
  fmt.Printf(buf.String())
 }
 fmt.Println("Main completed")
}

func f(out io.Writer) {
 if out != nil {
  _, err := out.Write([]byte("Hello world\n"))
  if err != nil {
   log.Fatal(err)
  }
 }
}
```

**–û—Ç–≤–µ—Ç:** `panic: runtime error: invalid memory address or nil pointer dereference`

–ò–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ —É –Ω–∞—Å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ nil. –ú—ã –µ–≥–æ –ø–µ—Ä–µ–¥–∞–µ–º, –∫–∞–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —á–µ–∫ –Ω–∞ nil –æ–Ω –ø—Ä–æ–π–¥–µ—Ç, –Ω–æ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –º—ã —Å–ª–æ–≤–∏–º –ø–∞–Ω–∏–∫—É, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: `buf := new(bytes.Buffer)`

–°–∞–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—É—á–∞–µ—Ç—Å—è –Ω–µ nil, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞, –≤ go –Ω–µ—Ç –ø–æ –¥–µ—Ñ–æ–ª—Ç—É –≥–ª—É–±–æ–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–¥–Ω–æ –∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π —Å —Ä–µ—Ñ–ª–µ–∫—Å–∏–µ–π: [link](https://scribe.rip/go-check-nil-interface-the-right-way-d142776edef1)

---

### üëâ 8Ô∏è‚É£

```go
type Animal interface{}
type Dog struct{}

func IsNil(i interface{}) bool {
    return i == nil
}

func main() {
    var a Animal
    var d *Dog

    fmt.Println(IsNil(a))
    fmt.Println(IsNil(d))
}
```

**–û—Ç–≤–µ—Ç:** `true false`

–ö–æ–≥–¥–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å¬†`Animal`¬†–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è, –æ–±–∞ –ø–æ–ª—è (–∑–Ω–∞—á–µ–Ω–∏–µ –∏ —Ç–∏–ø) —Ä–∞–≤–Ω—ã¬†`nil`, –ø–æ—ç—Ç–æ–º—É¬†`IsNil(a)`¬†–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç¬†`true`. –û–¥–Ω–∞–∫–æ, –∫–æ–≥–¥–∞ –º—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º¬†`d`¬†–∫–∞–∫ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞¬†`Dog`, –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω–æ¬†`nil`, –Ω–æ —Ç–∏–ø —è–≤–ª—è–µ—Ç—Å—è¬†`*Dog`, –ø–æ—ç—Ç–æ–º—É¬†`IsNil(d)`¬†–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç¬†`false`

---

### üëâ 9Ô∏è‚É£

```go
type Count int

func (c Count) Increment() {
 c++
}

func main() {
 var count Count
 count.Increment()
 fmt.Print(count)
}
```

**–û—Ç–≤–µ—Ç:**`0`

–í Go, –º–µ—Ç–æ–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–ª—É—á–∞—é—Ç –∫–æ–ø–∏—é –∑–Ω–∞—á–µ–Ω–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è. –í –≤–∞—à–µ–º —Å–ª—É—á–∞–µ, –º–µ—Ç–æ–¥¬†`Increment`¬†–ø–æ–ª—É—á–∞–µ—Ç –∫–æ–ø–∏—é¬†`Count`¬†–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —ç—Ç—É –∫–æ–ø–∏—é, –Ω–æ –æ—Ä–∏–≥–∏–Ω–∞–ª –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º

---

### üëâ 1Ô∏è‚É£0Ô∏è‚É£

```go
func main() {
 var s *string
 fmt.Println(s == nil)
 var i interface{}
 fmt.Println(i == nil)
 i = s
 fmt.Println(i == nil)
}
```

**–û—Ç–≤–µ—Ç:**`true true false`

1. `var s *string`¬†–æ–±—ä—è–≤–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä–æ–∫—É –±–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é¬†`nil`, –∏¬†`fmt.Println(s == nil)`–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç¬†`true`

2. `var i interface{}`¬†–æ–±—ä—è–≤–ª—è–µ—Ç –ø—É—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ —Ç–∏–ø –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é¬†`nil`, –∏¬†`fmt.Println(i == nil)`¬†–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç¬†`true`
3. `i = s`¬†–ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É¬†`i`¬†–∑–Ω–∞—á–µ–Ω–∏–µ¬†`nil`¬†–∏ —Ç–∏–ø¬†`*string`, –ø–æ—ç—Ç–æ–º—É, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ¬†`nil`, —Å–∞–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ¬†`nil`, –∏¬†`fmt.Println(i == nil)`¬†–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç¬†`false`

---

### üëâ 1Ô∏è‚É£1Ô∏è‚É£

```go
type impl struct{}

type I interface {
 C()
}

func (*impl) C() {}

func A() I {
 return nil
}

func B() I {
 var ret *impl
 return ret
}

func main() {
 a := A()
 b := B()
 fmt.Println(a == b)
}
```

**–û—Ç–≤–µ—Ç** `false`

–ö–æ–≥–¥–∞ –≤—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç–µ¬†`nil`¬†–≤ —Ñ—É–Ω–∫—Ü–∏–∏¬†`A()`, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å¬†`I`¬†–∏–º–µ–µ—Ç¬†`nil`¬†–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ç–∏–ø–∞, –∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è. –û–¥–Ω–∞–∫–æ, –∫–æ–≥–¥–∞ –≤—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç–µ¬†`ret`¬†–≤ —Ñ—É–Ω–∫—Ü–∏–∏¬†`B()`, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å¬†`I`¬†–∏–º–µ–µ—Ç —Ç–∏–ø¬†`*impl`, –Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ¬†`nil`

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å¬†`a`¬†–∏¬†`b`¬†–∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã, —Ö–æ—Ç—è –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Ä–∞–≤–Ω—ã¬†`nil`

---

### üëâ 1Ô∏è‚É£2Ô∏è‚É£

```go
type X struct {
 Val int
}

func (x X) S() {
 fmt.Println(x.Val)
}

func main() {
 x := X{10}
 defer x.S()
 x.Val = 256
}
```

**–û—Ç–≤–µ—Ç:**`10`

–í Go,¬†`defer`¬†–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞, –ø–æ—ç—Ç–æ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–∏–µ –ø–æ—Å–ª–µ¬†`defer`, –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Ç–ª–æ–∂–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é

---

### üëâ 1Ô∏è‚É£3Ô∏è‚É£

```go
type some1 struct{
 a bool
 b int32
 c string
}

type some2 struct{
 b int32
 c string
 a bool
}
```

**–û—Ç–≤–µ—Ç:**
`some1`

Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç "–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ" –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–º—è—Ç–∏. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ—Ä—è–¥–æ–∫ –ø–æ–ª–µ–π –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ –ø–∞–º—è—Ç–∏

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞¬†`some1`¬†–±—É–¥–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, —á–µ–º¬†`some2`¬†–∏–∑-–∑–∞ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è. –í¬†`some2`, –ø–æ–ª–µ¬†`a`¬†(bool) –±—É–¥–µ—Ç –≤—ã—Ä–æ–≤–Ω–µ–Ω–æ –ø–æ –≥—Ä–∞–Ω–∏—Ü–µ 8 –±–∞–π—Ç, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º –≤ –ø–∞–º—è—Ç–∏.

–ú–æ–∂–Ω–æ —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ –≤—ã–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏—è unsafe.Sizeof

`some1 - 24; some2 - 32`

### 14

```go
```

–û—Ç–≤–µ—Ç:

---
